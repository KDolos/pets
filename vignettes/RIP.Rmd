---
title: "RIP simulation model"
output:
  html_document:
    toc: yes
    toc_depth: 2
  html_notebook: default
  pdf_document: default
  word_document: default
---

# Model description
## The system
Three bacteria species are put into a  petri dish and compete for space. Species R has the highest reproduction rate, I is intermediate and P is lowest. But, P produces a poisson which is deadly for R. I is immune to this poisson.  

## States
Each cell can be occupied by R, I or P.

## Processes

The system is reduced to the following processes:

- Initialization: Cells are randomly occupied by one of the tree species.
- Colonization: Depending on their properties and number in the neighbourhood species R, I and P compete in each time step to occupy the cells.


# Run the model
To run the models you need to specify the size of the world (n is the edge length) and the number of time steps. Function argument "sleep" defines the break between two time steps important for plotfing.

```{r Simulate, eval=TRUE, echo=TRUE, include=TRUE, results='hide', fig.keep='last', fig.show='asis', strip.white=TRUE, fig.align='center', fig.width=4, fig.height=4}
library(pets)
RIP(n=100, timesteps=15, sleep=0.1, mycols=c("blue", "yellow", "red"), image=TRUE)

```
Figure 1: Simulation with image = TRUE.


## Animation as GIF

Create a GIF file to visulize the simulation output.

```{r create_gif, eval=FALSE, echo=TRUE, include=TRUE}
library(animation)

ani.options(ani.width=480, ani.height=480) 
saveGIF(RIP(n=100, timesteps=50, sleep=0.1, mycols=c("blue", "yellow", "red"), image=TRUE), movie.name = "animation.gif", img.name = "Rplot", convert = "convert", clean = TRUE)

```

![Figure 2: Animated RIP output. The three species grow into each other, sometimes almost die out but usually recover.](animation_RIP.gif)


